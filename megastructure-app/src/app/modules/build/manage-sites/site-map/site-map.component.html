<h2 class="d-inline-block" mat-dialog-title>{{ site.name }} site map</h2>
<small class="float-right" *ngIf="site.id">
  <label [matTooltip]="'By ' + site.lastModified.user.toUpperCase()">
    Last modified: {{ site.lastModified.date | date: "medium" }}
  </label>
</small>
<mat-dialog-content class="mat-typography">
  <section class="map-view dialog-content" [ngClass]="{ open: !editingPage }">
    <app-page 
      *ngIf="!editingPage"
      [pageTree]="pagesTree"
      (addPage)="onAddPage($event)"
      (editPage)="onEditPage($event)"
    ></app-page>
  </section>
  <section class="edit-page dialog-content" [ngClass]="{ open: editingPage }">
    <app-edit-page
      *ngIf="editingPage"
      [siteName]="site.name"
      [page]="editingPage"
      (closeEditPage)="onCloseEditPage($event)"
    ></app-edit-page>
  </section>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-flat-button color="warn" [mat-dialog-close]="false">Close</button>
</mat-dialog-actions>
